<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title></title>
    <script src="../../../scripts/data/Flux-3.1.2.js"></script>
	<meta charset="utf-8" />
</head>
<body>

    <script>

        var flightDispatcher = new Flux.Dispatcher();
        var CountryStore = { country: null };
        var CityStore = { city: null };
        var FlightPriceStore = { price: null }

  
    
       CountryStore.dispatchToken = flightDispatcher.register(function(payload) {
           if (payload.actionType === 'country-update') {
                    flightDispatcher.waitFor([aa]);
                      CountryStore.country = payload.selectedCountry;
                 }
       });
       var aa = flightDispatcher.register(function (payload) {
           if (payload.actionType === 'city-update') {
               CityStore.city = payload.selectedCity;
           }
       });

       flightDispatcher.dispatch({
           actionType: 'country-update',
           selectedCountry: 'paris'
       });

  
    </script>
</body>
</html>
